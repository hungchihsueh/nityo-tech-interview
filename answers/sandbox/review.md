# 進階要求檢視

## 已修正的問題與原因
- 初始種子資料的 `status` 使用 `todo111`，不在型別允許的集合內，會造成編譯或篩選錯誤；已改為合法的 `todo`。
- `updateTask`、`deleteTask` 直接依賴外層 `tasks` 且有突變行為（`map` 來源或 `splice`），在快速連續操作時容易覆蓋掉最新狀態；改為使用函式型 `setState` 並保持不可變更新，確保狀態一致性。
- `addTask` 未處理空白或多餘空白的標題，也未統一預設狀態/權重，易產生無效資料；新增標題必填與去除前後空白，並對 `status`/`priority` 提供穩定預設值。
- 操作欄缺少新增任務 UI，難以透過介面建立資料；已在 `TaskForm` 建立表單並接入 Context，送出後會重置欄位並沿用型別約束。
- 刪除行為原先透過 `window.confirm`，屬於阻塞式體驗（原碼也標註為 anti-pattern）；改為直接刪除，若需防呆可再換成非阻塞的提示元件。

## 建議後續可優化
- 若需要 server 同步，建議在 Context 抽離 service 層並處理錯誤/併發情境。
- 可為 TaskList 增加排序、搜尋與空狀態行為（例如提供「建立第一個任務」行動）。
- 目前僅有前端校驗，若導入 API 層應保持同樣的資料驗證與防呆。

## 驗證
- `pnpm run build`
